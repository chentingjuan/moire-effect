{"id":"p5js/sin-1-thick/index.html","dependencies":[{"name":"./../../resources/dat.gui.min.js","dynamic":true,"resolved":"/Users/juan/Projects/moire-effect/resources/dat.gui.min.js","parent":"/Users/juan/Projects/moire-effect/p5js/sin-1-thick/index.html"},{"name":"./../../resources/p5.min.js","dynamic":true,"resolved":"/Users/juan/Projects/moire-effect/resources/p5.min.js","parent":"/Users/juan/Projects/moire-effect/p5js/sin-1-thick/index.html"},{"name":"./../../resources/reimg.js","dynamic":true,"resolved":"/Users/juan/Projects/moire-effect/resources/reimg.js","parent":"/Users/juan/Projects/moire-effect/p5js/sin-1-thick/index.html"},{"name":"./main.css","dynamic":true,"resolved":"/Users/juan/Projects/moire-effect/p5js/sin-1-thick/main.css","parent":"/Users/juan/Projects/moire-effect/p5js/sin-1-thick/index.html"},{"name":"./../../assets/images/Artfield-logo-w.png","dynamic":true,"resolved":"/Users/juan/Projects/moire-effect/assets/images/Artfield-logo-w.png","parent":"/Users/juan/Projects/moire-effect/p5js/sin-1-thick/index.html"},{"name":"/Users/juan/Projects/moire-effect/package.json","includedInParent":true,"mtime":1643101443999}],"generated":{"html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>Moire Effect</title>\n    <script src=\"/26af09ec7ab68c450bd49490b7260aa0.js\"></script>\n    <script src=\"/02f40b564bdb5415d2b89e86cc28312c.js\"></script>\n    <script src=\"/1dd9c2fac62764de9e7c0053446b1ef3.js\"></script>\n    <link rel=\"stylesheet\" href=\"/ba23c2c286bf59e96ac7fcab30d8d812.css\">\n  </head>\n\n  <body>\n    <a id=\"dl\" href=\"#\" onclick=\"dlCanvas()\">Download Canvas</a>\n  \n    <div class=\"wrapper\">\n      \n      <canvas id=\"c\"></canvas>\n      <canvas id=\"d\"></canvas>\n      <!-- <h1>Moir√© effect is everywhere.</h1> -->\n      <img src=\"/0e4fcfe23bd1179b37b59ee81d662b05.png\" alt=\"\">\n    </div>\n  </body>\n\n  <script>var opts = {\n  rot: 3.1,\n  ampl: 41,\n  lineWidth: 26,\n  distance: 30,\n  opacity: 1,\n  animFrameCount: 100\n};\nvar canvas = document.getElementById(\"c\"),\n    ctx = canvas.getContext(\"2d\");\nvar danvas = document.getElementById(\"d\"),\n    dtx = danvas.getContext(\"2d\");\nvar cw = canvas.width = danvas.width = window.innerWidth,\n    cx = cw / 2;\nvar ch = canvas.height = danvas.height = window.innerHeight,\n    cy = ch / 2;\nvar tx = cx,\n    ty = cy;\nvar easing = 0.02;\nvar grad = ctx.createLinearGradient(-cw / 2, ch / 2, cw / 2, -ch / 2);\nvar dgrad = dtx.createLinearGradient(-cw / 2, ch / 2, cw / 2, -ch / 2);\n\nfunction setup() {\n  frameRate(12);\n  var gui = new dat.GUI();\n  gui.add(opts, 'rot', 0, 6.28).step(0.01).onChange(draw);\n  gui.add(opts, 'ampl', 10, 100).onChange(draw);\n  gui.add(opts, 'distance', 30, 60).onChange(draw);\n  gui.add(opts, 'lineWidth', 1, 50).onChange(draw);\n  gui.add(opts, 'opacity', 0, 1).onChange(draw); // gui.add(opts, 'animFrameCount', 1, 100).onChange(draw);\n\n  noCanvas(); // ctx.strokeStyle = `rgba(255, 255, 255, 0.2)`\n\n  ctx.translate(cx, cy);\n  mouseX = cx, mouseY = cy;\n}\n\nfunction draw() {\n  ctx.lineWidth = opts.lineWidth;\n  dtx.lineWidth = opts.lineWidth;\n  grad = ctx.createLinearGradient(-cw / 2, ch / 2, cw / 2, -ch / 2); // grad.addColorStop(0, \"rgba(255, 100, 100, 0.2)\");\n  // grad.addColorStop(0.3, `rgba(255, 255, 255, ${opts.opacity})`);\n  // grad.addColorStop(0.7, `rgba(255, 255, 255, ${opts.opacity})`);\n  // grad.addColorStop(1, \"rgba(100, 100, 255, 0.4)\");\n\n  grad.addColorStop(0, \"rgba(60, 10, 10, \".concat(opts.opacity, \")\"));\n  grad.addColorStop(0.3, \"rgba(0, 0, 0, \".concat(opts.opacity, \")\"));\n  grad.addColorStop(0.7, \"rgba(0, 0, 0, \".concat(opts.opacity, \")\"));\n  grad.addColorStop(1, \"rgba(10, 10, 60, \".concat(opts.opacity, \")\"));\n  ctx.strokeStyle = grad;\n  dgrad = dtx.createLinearGradient(-cw / 2, ch / 2, cw / 2, -ch / 2); // dgrad.addColorStop(0, \"rgba(255, 100, 100, 0.2)\");\n  // dgrad.addColorStop(0.3, `rgba(255, 255, 255, ${opts.opacity})`);\n  // dgrad.addColorStop(0.7, `rgba(255, 255, 255, ${opts.opacity})`);\n  // dgrad.addColorStop(1, \"rgba(100, 100, 255, 0.4)\");\n\n  dgrad.addColorStop(0, \"rgba(60, 10, 10, \".concat(opts.opacity, \")\"));\n  dgrad.addColorStop(0.3, \"rgba(0, 0, 0, \".concat(opts.opacity, \")\"));\n  dgrad.addColorStop(0.7, \"rgba(0, 0, 0, \".concat(opts.opacity, \")\"));\n  dgrad.addColorStop(1, \"rgba(10, 10, 60, \".concat(opts.opacity, \")\"));\n  dtx.strokeStyle = dgrad;\n  var counter = frameCount / opts.animFrameCount;\n  ctx.clearRect(-cw, -ch, 2 * cw, 2 * ch);\n  dtx.clearRect(-cw, -ch, 2 * cw, 2 * ch);\n  var dx = mouseX - tx;\n  tx += dx * easing;\n  var dy = mouseY - ty;\n  ty += dy * easing;\n  sineLines(counter);\n}\n\nfunction sineLines(offset) {\n  // let yOffset = 0;\n  for (var y = -ch - opts.ampl; y < ch; y += opts.distance) {\n    var xOffset = offset;\n    dtx.save();\n    ctx.beginPath(); // dtx.translate(cx , cy);\n\n    dtx.translate(cx + (tx - cx) / 5, cy + (ty - cy) / 5);\n    dtx.rotate(opts.rot + (tx - cx) / (cw * 3));\n    dtx.beginPath();\n\n    for (var x = -cw * 2 / 3; x < cw * 2 / 3; x += 2) {\n      // let _y = noise(xOffset, yOffset) * opts.ampl + y\n      // let _y = noise(xOffset, yOffset) * opts.ampl + y * noise(timer)\n      // let _y = noise(xOffset, yOffset) * opts.ampl + y * sin(timer)\n      var _y = sin(xOffset) * opts.ampl + y;\n\n      ctx.lineTo(x, _y);\n      _y = sin(xOffset * 1.2) * opts.ampl * 1.2 + y;\n      dtx.lineTo(x, _y);\n      xOffset += .01;\n    }\n\n    ctx.stroke();\n    dtx.stroke(); // ctx.restore();\n\n    dtx.restore();\n  }\n}\n\nfunction dlCanvas() {\n  ReImg.fromCanvas(danvas).downloadPng();\n}</script>\n</html>"},"sourceMaps":null,"error":null,"hash":"e34f62aac7ada289102f0d72c7a7131b","cacheData":{"env":{}}}